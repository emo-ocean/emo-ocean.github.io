# 课题分析与需求报告

## 课题一分析

### check point

现状：国内尚无细粒度的多核处理器的软错误故障模型。
目标：可支持多核处理器的取指部件、译码部件、执行部件、访存部件、ALU等至少5个不同位置故障注入。


### 研究内容
主要研究内容部分提到“RTL级多核处理器软错误故障注入方法分析研究。研究如何在RTL级模拟环境中模拟各种软错误，例如单粒子翻转（SEU），并分析这些错误对处理器上运行的运行程序的影响。
RTL级故障注入直接作用在硬件描述语言（Verilog/VHDL/Chisel）里的寄存器（flip-flop）、组合信号、总线、寄存器组、锁存器、网表信号等硬件信号上；典型操作是单比特翻转（bit-flip）、stuck-at、脉冲/延迟注入等。目前调研可能通过修改verilator的输出c++或其他方式实现RTL-FI模拟。

## 课题二分析

### check point
现状：虚拟模型在功能模拟和时序规划等方面作用明显，但其在安全性设计领域的研究与应用尚处于起步阶段  
目标：可支持目标处理器的微体系结构级故障注入，覆盖取指部件、译码部件等至少6个不同位置故障注入.

### 研究内容
采用模块化设计思想，将机载核心处理器安全性评估模型分解为若干相对独立的子模块，包括故障生成模块、故障注入模块、监测与记录模块以及结果分析模块。各模块之间通过标准化的接口进行交互，确保评估过程的高效与准确；
设计微体系结构级的故障注入，覆盖取指部件、译码部件、寄存器部件、执行部件、访存部件等；
以机载核心处理器作为测试对象，进行了多轮次的故障注入实验。基于实验结果和故障分析，提出了对机载核心处理器的安全性优化策略，例如增强指令缓存的可靠性、优化译码逻辑的错误检测与恢复机制、采用冗余寄存器设计以提高数据安全性、以及加强访存部件的访问控制等。
微架构级注入不是改 gate/flip-flop 的电路级，而是在微架构结构（如指令寄存器、ROB、RAT、issue queue、branch predictor、各级缓存、PC、译码产生的控制信号等）上模拟低层位翻转的影响。这样能在仿真成本可接受的情况下逼近真实影响。

## 需求整理：
系统级仿真（System-Level Simulation, SLS）抽象层次高，仿真速度快，可处理完整操作系统与应用程序，却不够精确，不可以用于验证具体硬件逻辑，无法捕捉低层次电路问题；RTL级仿真（Register Transfer Level Simulation）抽象层次低，精确至能够验证硬件功能与时序，可以发现系统级仿真无法发现的低级问题，可却面临仿真速度慢（尤其是多核复杂设计）、不适合大规模系统级性能探索等缺陷。

##  综合需求报告

研发多核处理器软错误故障混合注入平台（hybrid FI）：对系统中每个组件可以动态选择注入级别（RTL / microarch / none），并在一次仿真/实验流程中对不同组件以不同级别注入、甚至在运行时切换注入策略。采用模块化设计，将框架分解为若干相对独立的子模块，总体组件包括Gem5主仿真器，RTL组件子系统，错误注入管理器（Fault Injection Manager），注入实践表（Injection Event Scheduler）。

采用模块化设计，将框架分解为若干相对独立的子模块，总体组件包括：

**1. Gem5 主仿真器**（系统级、OS、内存、I/O）：运行应用，负责调度和系统级事件。

**2. RTL 组件子系统**（Verilator/FPGA 模块）：以子进程或嵌入模块形式运行（gem5+RTL 框架常见实现），对外暴露同步接口（cycle-sync、mem transactions、control commands）。

**3. Fault Injection Manager（FIM）**：故障注入管理器/全局控制器，负责决定“哪个组件、在何时、以何级别注入什么 fault”，并下发注入命令到 gem5 或 RTL 子系统，同时收集日志/trace。

**4. Injection Event Scheduler** ：注入事件表（time, target, bit, type, level），并保存注入后快照（state dump），便于差分分析。

其次，两个子课题都提及到的实验结果处理，分析故障注入对处理器上运行的运行程序的影响。从混合注入实验得到大量注入样本（事件），需要把这些样本整理成能用于统计/建模的数据集。设计并证明新的脆弱因子（vulnerability factor）或改进指标，更好捕捉对架构或任务致命性的概率等问题，作为主要算法/理论贡献。再利用统计学或机器学习的方法找到缓解方向，评估优化策略有效性，最后证明结论稳健，作为分析贡献。

